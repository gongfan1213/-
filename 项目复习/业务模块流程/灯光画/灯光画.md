<img width="562" alt="image" src="https://github.com/user-attachments/assets/133d980e-5142-4005-a794-e48c4472bb34" />

# 进入
- 点击应用卡片进入灯光画light painting应用页面
<img width="585" alt="image" src="https://github.com/user-attachments/assets/b49512d1-32ea-466a-a42b-5dfc2e3af4b2" />
### 上传页面 - 初始

1. **上传**：
   - a. 支持拖拽上传、本地文件上传、拖拽上传复用 3D Paint 交互。
   - b. 支持格式：PNG, JPG, WebP, SVG, JPEG 上传后不支持编辑。
   - c. 图片最大 50m，上传超过限制的图片出现 toast 提示无法上传。
   - d. 上传非法格式文件出现 toast 提示。

2. **Community Project**：
   - a. 展示社区灯光画项目，可后台上下架。
   - b. 上下滑动查看。
   - c. 打开默认开始下载所需工具包，左下角显示下载状态，下载完成自动消失，如果下载失败则提示失败标语，点击 retry 重新开始下载。

3. **上传成功后自动进入裁剪页**。

4. **上传失败显示 toast 提示，重新上传**。

5. **点击右上角 back 退出应用，不保存项目**。

6. **点击 My History 切换至历史 tab**：
   - 显示历史保存过的灯光画，点击直接加载项目，进入预览页，每个用户允许保存 30 个项目，可多选删除，与编辑器项目操作交互一致。

7. **Tips**：
   - 固定显示在上传框下方，引导用户上传适合做灯光画的照片：
     - a. 高清
     - b. 线条清晰
     - c. 彩色
     - d. 卡通动漫
<img width="746" alt="image" src="https://github.com/user-attachments/assets/ca55fa38-ecf3-4c4d-b79d-6a856452431a" />
### 画布页

1. **上传成功后自动进入画布页**

2. **右侧区域进行画布设置**
   - a. **预设选项**：200mm*300mm、150mm*200mm
   - b. **Customize**：选择后显示长宽输入框，单位为 mm，最大尺寸为 A3 (420x297)，最小 10x10mm 长短边对应限制，当选择自定义画布后，预设卡片变为非选中状态，同编辑器创建画布逻辑
   - c. **Orientation**：
     - i. 画布方向设置，包括竖、横两个方向
     - ii. 坚向指向尺寸长于长尺寸，反之为横向
     - iii. 只有选择预设选项时出现，如选择 A3 画布时有此项设置

3. **左侧区域进行画布编辑**
   - a. 画布交互、快捷键、触控板与编辑器一致
   - b. 图片自动放大至适应画布，点击出现图层选中框，可缩小、缩放，同编辑器交互
   - c. 超出画布的部分不显示
   - d. 图片最多超出画布范围 1 倍

4. **根据图片 size 和默认 DPI 计算当前图片质量是否过低，计算规则与编辑器图层质量计算一致**

5. **当质量过低时，画布上方出现提示，可以继续 generate**

6. **点击 next 保存当前设置进入下一步，保留画布有效区域的内容**

7. **Replace**
   - a. 图片下方常驻 replace 按钮，点击调起本地资源上传新图
   - b. 上传成功则直接在当前裁剪页展示，上传失败则使用通用提示
   - c. 上传成功后以默认值开始裁剪，原本设置的裁剪参数不保存
<img width="726" alt="image" src="https://github.com/user-attachments/assets/f9c7c8d1-2b05-43c7-8ee0-2620b7938981" />
<img width="739" alt="image" src="https://github.com/user-attachments/assets/24bf5fc0-0fc2-4f74-985c-d41c2c372904" />
### 预览-编辑

1. **上传成功后直接进入预览编辑页**：
   - 左侧显示预览渲染图，右侧为编辑面板。

2. **编辑面板两个 tab 可切换开灯、关灯效果查看并编辑**：
   - 默认为开灯效果，切换 tab 时左侧预览对应切换。

3. **点击左上角 back 返回裁剪页**。

4. **点击 print 自动生成打印文件，不经过编辑器，进入打印流程**。

### Light on View

1. **Light on View**：
   - 为上传原图与阴影层叠加的效果预览。

2. **阴影层自动生成**。

3. **滤镜**：
   - 默认为原图，提供多种滤镜选择，点击为图片应用滤镜。

4. **付费滤镜**：
   - 部分滤镜需要积分，使用时自动扣除对应积分，可重复使用。

5. **Shadow**：
   - a. 此参数为 Binary Threshold，不同阈值下选择的阴影区域不同，默认阈值为 0，即不生成阴影层，阈值区间为（）。
   - b. 拖拽滑块调整阈值并生成阴影层，画布区域实时展示效果。

6. **Transmittance**：
   - a. 此参数为阴影层透明度，影响透光效果。
   - b. 有阴影层时候（Shadow 阈值不为 0）才有此选项。
   - c. 提供四档透光效果，默认第一个档位，点击则切换。
  <img width="730" alt="image" src="https://github.com/user-attachments/assets/480cfcc3-2ba4-46a3-914f-c226443e7083" />
<img width="811" alt="image" src="https://github.com/user-attachments/assets/928f1d6e-b012-4a75-9a2e-cf1bd8a163bf" />
<img width="759" alt="image" src="https://github.com/user-attachments/assets/0772cb9d-99e8-4396-86ec-7a3f4be4fb9b" />
### Light Off View

1. **Light Off View**：
   - 指关灯效果画面，自动由原图添加效果得到。

2. **Style**：
   - 为原图添加的效果，可切换。
   - a. **Line Art**：默认效果，即线稿图，要求线条顺滑，接近铅笔画效果。
   - b. **Foreground**：去背效果，只保留主体，要求主体边缘光滑，背景去除干净，可接受保留部分前景，前景需完整；使用时自动扣除对应积分。

3. **Eraser**：
   - a. 橡皮工具，点击即选择，再次点击取消选择，拖拽滑块调整大小，调整时橡皮图标随之变大变小。
     - 调整区间 5~100，默认 25，输入框可输入。
   - b. 选中橡皮工具时使显示蒙版图层，只显示关灯页面图片，不显示自动渲染效果。
   - c. 可拖拽、缩放蒙版画布使用橡皮工具，可撤销回退，与编辑器一致。
   - d. 取消橡皮选择后退出蒙版页，继续展示预览。
