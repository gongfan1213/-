### **毫米转像素公式的推导**

在这段代码中，毫米和像素之间的转换公式是基于 **DPI（Dots Per Inch，像素每英寸）** 的概念得出的。以下是详细的推导过程：

---

### **1. 背景知识**

#### **1.1 什么是 DPI？**
- DPI 是指每英寸的像素数，表示图像的分辨率。
- 例如，300 DPI 表示每英寸有 300 个像素。

#### **1.2 英寸与毫米的关系**
- 1 英寸 = 25.4 毫米。

#### **1.3 像素与毫米的关系**
- 如果图像的 DPI 是 300，则每英寸有 300 个像素。
- 因此，每毫米的像素数可以通过以下公式计算：
  \[
  \text{每毫米的像素数} = \frac{\text{DPI}}{25.4}
  \]

---

### **2. 毫米转像素公式的推导**

#### **2.1 基本公式**
- 假设图像的 DPI 是 300。
- 每毫米的像素数为：
  \[
  \text{每毫米的像素数} = \frac{300}{25.4}
  \]
- 如果我们有一个值 \( \text{value} \)（单位是毫米），要将其转换为像素，可以使用以下公式：
  \[
  \text{像素值} = \text{毫米值} \times \frac{\text{DPI}}{25.4}
  \]

#### **2.2 代码中的实现**
在代码中，`DefaultRatio` 被定义为 25.4（即 1 英寸的毫米数），DPI 被假设为 300。因此，毫米转像素的公式为：
```typescript
export const mm2px = (value: number) => {
  return value * 300 / DefaultRatio;
};
```
- **`value`**：毫米值。
- **`300`**：假设的 DPI 值。
- **`DefaultRatio`**：1 英寸的毫米数（25.4）。

---

### **3. 示例计算**

#### **3.1 假设**
- DPI = 300。
- 需要将 10 毫米转换为像素。

#### **3.2 计算过程**
1. 每毫米的像素数：
   \[
   \frac{300}{25.4} \approx 11.811
   \]
2. 10 毫米对应的像素数：
   \[
   10 \times 11.811 \approx 118.11
   \]

#### **3.3 结果**
- 10 毫米大约等于 118 像素。

---

### **4. 为什么需要毫米转像素？**

在图像处理和打印中，毫米和像素的转换非常重要：
1. **打印需求**：
   - 打印机通常以毫米为单位指定纸张尺寸（如 A4 纸是 210 毫米 × 297 毫米）。
   - 但图像的分辨率是以像素为单位的，因此需要将毫米转换为像素。

2. **屏幕显示**：
   - 屏幕上的图像通常以像素为单位显示。
   - 如果需要根据物理尺寸（如毫米）调整图像大小，就需要进行毫米到像素的转换。

---

### **5. 总结**

#### **公式**
- 毫米转像素：
  \[
  \text{像素值} = \text{毫米值} \times \frac{\text{DPI}}{25.4}
  \]
- 像素转毫米：
  \[
  \text{毫米值} = \text{像素值} \times \frac{25.4}{\text{DPI}}
  \]

#### **代码实现**
```typescript
export const mm2px = (value: number) => {
  return value * 300 / 25.4;
};

export const px2mm = (value: number) => {
  return value / 300 * 25.4;
};
```

#### **关键点**
- DPI 决定了每英寸的像素数。
- 1 英寸等于 25.4 毫米。
- 通过 DPI 和毫米之间的关系，可以实现毫米与像素的相互转换。

如果还有疑问，欢迎随时提问！
